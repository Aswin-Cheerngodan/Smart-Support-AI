2025-04-21 20:03:36 - src.agents.categorizer_agent - INFO - Loaded fine-tuned distilBERT from models\fine_tuned_distilbert
2025-04-21 20:03:37 - src.agents.sentiment_agent - INFO - Model and tokenizer loaded from models\sentiment_model
2025-04-21 20:03:39 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:03:39 - __main__ - INFO - Workflow started with query: My payment failed and I'm furious!
2025-04-21 20:03:39 - src.agents.sentiment_agent - INFO - Input query toknization done.
2025-04-21 20:03:39 - src.agents.sentiment_agent - INFO - Query: 'My payment failed and I'm furious!' -> Probabilities: tensor([[0.2799, 0.4113, 0.1634, 0.1019, 0.0436]]), Predicted sentiment: Negative
2025-04-21 20:03:39 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:03:39 - src.agents.priority_agent - INFO - Priority identified: High
2025-04-21 20:03:39 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Order
2025-04-21 20:03:39 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 20:03:39 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 20:03:39 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.5268327  0.47404775 0.4475484 ]
2025-04-21 20:03:39 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 20:03:41 - src.agents.response_agent - INFO - Generated Response: I'm sorry to hear that your payment failed. This can be frustrating.

There are a few common reasons for payment failures:

*   **Incorrect Card Information:** Double-check the card number, expiration date, and CVV.
*   **Insufficient Funds:** Ensure your account has sufficient funds for the purchase.
*   **Bank Restrictions:** Sometimes, banks flag online transactions. Contact your bank to authorize the payment.
*   **Technical Issues:** There might be a temporary glitch on our end.

Please try these steps. If the issue persists, human agents are waiting to assist you further.

2025-04-21 20:03:41 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.7, Priority: 1, Similarity: 0.4731673002243042, Total: 0.7219501900672912
2025-04-21 20:03:41 - src.agents.escalation_agent - INFO - Escalating query 'My payment failed and I'm furious!' due to score 0.72 (threshold 0.7)
2025-04-21 20:03:41 - __main__ - INFO - Escalating query: My payment failed and I'm furious!
2025-04-21 20:03:41 - src.agents.ticket_agent - INFO - Logged ticket TICKET_ADA36BE4 for query: My payment failed and I'm furious!
2025-04-21 20:03:41 - src.agents.ticket_agent - INFO - Created ticket TICKET_ADA36BE4 with message: Your issue has been escalated. Ticket ID: TICKET_ADA36BE4. Our customer care team will contact you soon.
2025-04-21 20:03:41 - __main__ - INFO - Workflow completed for query: My payment failed and I'm furious!
2025-04-21 20:03:41 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:03:41 - __main__ - INFO - Workflow started with query: How do I reset my phone?
2025-04-21 20:03:41 - src.agents.sentiment_agent - INFO - Input query toknization done.
2025-04-21 20:03:41 - src.agents.sentiment_agent - INFO - Query: 'How do I reset my phone?' -> Probabilities: tensor([[0.1126, 0.1364, 0.4911, 0.1584, 0.1015]]), Predicted sentiment: Neutral
2025-04-21 20:03:41 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:03:41 - src.agents.priority_agent - INFO - Priority identified: Medium
2025-04-21 20:03:41 - src.agents.knowledge_agent - ERROR - Error while updating knowledge base: Expecting value: line 1 column 7 (char 6)
2025-04-21 20:03:41 - src.agents.response_agent - ERROR - Error generating response for 'How do I reset my phone?': string index out of range
2025-04-21 20:03:41 - src.agents.escalation_agent - ERROR - Error while escalation process: unsupported operand type(s) for -: 'int' and 'NoneType'
2025-04-21 20:03:41 - __main__ - INFO - Escalating query: How do I reset my phone?
2025-04-21 20:03:41 - src.agents.ticket_agent - INFO - Logged ticket TICKET_A91C6EF9 for query: How do I reset my phone?
2025-04-21 20:03:41 - src.agents.ticket_agent - INFO - Created ticket TICKET_A91C6EF9 with message: Your issue has been escalated. Ticket ID: TICKET_A91C6EF9. Our customer care team will contact you soon.
2025-04-21 20:03:41 - __main__ - INFO - Workflow completed for query: How do I reset my phone?
2025-04-21 20:08:55 - src.agents.categorizer_agent - INFO - Loaded fine-tuned distilBERT from models\fine_tuned_distilbert
2025-04-21 20:08:55 - src.agents.sentiment_agent - INFO - Model and tokenizer loaded from models\sentiment_model
2025-04-21 20:08:58 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:08:58 - __main__ - INFO - Workflow started with query: My payment failed and I'm furious!
2025-04-21 20:08:58 - src.agents.sentiment_agent - INFO - Input query toknization done.
2025-04-21 20:08:58 - src.agents.sentiment_agent - INFO - Query: 'My payment failed and I'm furious!' -> Probabilities: tensor([[0.2799, 0.4113, 0.1634, 0.1019, 0.0436]]), Predicted sentiment: Negative
2025-04-21 20:08:58 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:08:58 - src.agents.priority_agent - INFO - Priority identified: High
2025-04-21 20:08:58 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Order
2025-04-21 20:08:58 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 20:08:58 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 20:08:58 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.5268327  0.47404775 0.4475484 ]
2025-04-21 20:08:58 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 20:09:01 - src.agents.response_agent - INFO - Generated Response: I understand your frustration with the failed payment. I'm sorry for the inconvenience.

Since the payment failed, please try the following steps:

1.  **Check your payment details:** Ensure that the card number, expiration date, and CVV are correct. Also, verify that the billing address matches the one on your credit card statement.
2.  **Contact your bank:** Sometimes, banks block online transactions due to security reasons. Contact your bank to ensure that there are no blocks on your card and that the transaction can be processed.
3.  **Try a different payment method:** If possible, try using a different credit card, debit card, or payment method like PayPal to see if that resolves the issue.
4.  **Clear your browser cache and cookies:** Sometimes, stored data in your browser can interfere with the payment process. Clear your cache and cookies and try again.

If you have tried these steps and the payment still fails, human agents are waiting to assist you further.

2025-04-21 20:09:01 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.7, Priority: 1, Similarity: 0.4731673002243042, Total: 0.7219501900672912
2025-04-21 20:09:01 - src.agents.escalation_agent - INFO - Escalating query 'My payment failed and I'm furious!' due to score 0.72 (threshold 0.7)
2025-04-21 20:09:01 - __main__ - INFO - Escalating query: My payment failed and I'm furious!
2025-04-21 20:09:01 - src.agents.ticket_agent - INFO - Logged ticket TICKET_2EDAC44D for query: My payment failed and I'm furious!
2025-04-21 20:09:01 - src.agents.ticket_agent - INFO - Created ticket TICKET_2EDAC44D with message: Your issue has been escalated. Ticket ID: TICKET_2EDAC44D. Our customer care team will contact you soon.
2025-04-21 20:09:01 - __main__ - INFO - Workflow completed for query: My payment failed and I'm furious!
2025-04-21 20:09:01 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:09:01 - __main__ - INFO - Workflow started with query: How do I reset my phone?
2025-04-21 20:09:01 - src.agents.sentiment_agent - INFO - Input query toknization done.
2025-04-21 20:09:01 - src.agents.sentiment_agent - INFO - Query: 'How do I reset my phone?' -> Probabilities: tensor([[0.1126, 0.1364, 0.4911, 0.1584, 0.1015]]), Predicted sentiment: Neutral
2025-04-21 20:09:01 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:09:01 - src.agents.priority_agent - INFO - Priority identified: Medium
2025-04-21 20:09:01 - src.agents.knowledge_agent - ERROR - Error while updating knowledge base: Expecting value: line 1 column 7 (char 6)
Traceback (most recent call last):
  File "D:\Capstone Projects\Smart-Support-AI\src\agents\knowledge_agent.py", line 55, in Knowledge_update
    load_category_embeddings(category)
  File "D:\Capstone Projects\Smart-Support-AI\src\agents\knowledge_agent.py", line 36, in load_category_embeddings
    metadata = json.load(f)
               ^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 7 (char 6)
2025-04-21 20:09:01 - src.agents.response_agent - ERROR - Error generating response for 'How do I reset my phone?': string index out of range
2025-04-21 20:09:01 - src.agents.escalation_agent - ERROR - Error while escalation process: unsupported operand type(s) for -: 'int' and 'NoneType'
2025-04-21 20:09:01 - __main__ - INFO - Escalating query: How do I reset my phone?
2025-04-21 20:09:01 - src.agents.ticket_agent - INFO - Logged ticket TICKET_EDC64729 for query: How do I reset my phone?
2025-04-21 20:09:01 - src.agents.ticket_agent - INFO - Created ticket TICKET_EDC64729 with message: Your issue has been escalated. Ticket ID: TICKET_EDC64729. Our customer care team will contact you soon.
2025-04-21 20:09:01 - __main__ - INFO - Workflow completed for query: How do I reset my phone?
2025-04-21 20:19:27 - src.agents.categorizer_agent - INFO - Loaded fine-tuned distilBERT from models\fine_tuned_distilbert
2025-04-21 20:19:27 - src.agents.categorizer_agent - INFO - Model moved to device: cpu
2025-04-21 20:19:28 - src.agents.sentiment_agent - INFO - Model and tokenizer loaded from models\sentiment_model
2025-04-21 20:19:30 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:19:30 - __main__ - INFO - Workflow started with query: My payment failed and I'm furious!
2025-04-21 20:19:31 - src.agents.sentiment_agent - INFO - Input query toknization done.
2025-04-21 20:19:31 - src.agents.sentiment_agent - INFO - Query: 'My payment failed and I'm furious!' -> Probabilities: tensor([[0.2799, 0.4113, 0.1634, 0.1019, 0.0436]]), Predicted sentiment: Negative
2025-04-21 20:19:31 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:19:31 - src.agents.priority_agent - INFO - Priority identified: High
2025-04-21 20:19:31 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Order
2025-04-21 20:19:31 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 20:19:31 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 20:19:31 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.5268327  0.47404775 0.4475484 ]
2025-04-21 20:19:31 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 20:19:33 - src.agents.response_agent - INFO - Generated Response: I understand your frustration with the failed payment. I'm here to help!

Since the payment failed, please try the following:

1.  **Check your payment information:** Ensure that the card number, expiration date, and CVV are entered correctly. Also, verify that the billing address matches the one on your card statement.
2.  **Contact your bank:** Sometimes, banks block online transactions due to security reasons. Contact your bank to ensure that there are no issues with your card and that they are not blocking the payment.
3.  **Try a different payment method:** If possible, try using a different credit card, debit card, or payment method like PayPal to see if that resolves the issue.
4.  **Clear your browser cache and cookies:** Sometimes, old data stored in your browser can interfere with the payment process. Clear your browser's cache and cookies and try again.
5.  **Contact Customer support:** If none of the above steps work, please contact us back, and human agents are waiting to assist you further.

2025-04-21 20:19:33 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.7, Priority: 1, Similarity: 0.4731673002243042, Total: 0.7219501900672912
2025-04-21 20:19:33 - src.agents.escalation_agent - INFO - Escalating query 'My payment failed and I'm furious!' due to score 0.72 (threshold 0.7)
2025-04-21 20:19:33 - __main__ - INFO - Escalating query: My payment failed and I'm furious!
2025-04-21 20:19:33 - src.agents.ticket_agent - INFO - Logged ticket TICKET_03373383 for query: My payment failed and I'm furious!
2025-04-21 20:19:33 - src.agents.ticket_agent - INFO - Created ticket TICKET_03373383 with message: Your issue has been escalated. Ticket ID: TICKET_03373383. Our customer care team will contact you soon.
2025-04-21 20:19:33 - __main__ - INFO - Workflow completed for query: My payment failed and I'm furious!
2025-04-21 20:19:33 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:19:33 - __main__ - INFO - Workflow started with query: How do I reset my phone?
2025-04-21 20:19:33 - src.agents.sentiment_agent - INFO - Input query toknization done.
2025-04-21 20:19:34 - src.agents.sentiment_agent - INFO - Query: 'How do I reset my phone?' -> Probabilities: tensor([[0.1126, 0.1364, 0.4911, 0.1584, 0.1015]]), Predicted sentiment: Neutral
2025-04-21 20:19:34 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:19:34 - src.agents.priority_agent - INFO - Priority identified: Medium
2025-04-21 20:19:34 - src.agents.knowledge_agent - ERROR - Error while updating state with converesations knowledge base: Expecting value: line 1 column 7 (char 6)
Traceback (most recent call last):
  File "D:\Capstone Projects\Smart-Support-AI\src\agents\knowledge_agent.py", line 55, in Knowledge_update
    load_category_embeddings(category)
  File "D:\Capstone Projects\Smart-Support-AI\src\agents\knowledge_agent.py", line 36, in load_category_embeddings
    metadata = json.load(f)
               ^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 7 (char 6)
2025-04-21 20:19:34 - src.agents.response_agent - ERROR - Error generating response for 'How do I reset my phone?': string index out of range
2025-04-21 20:19:34 - src.agents.escalation_agent - ERROR - Error while escalation process: unsupported operand type(s) for -: 'int' and 'NoneType'
2025-04-21 20:19:34 - __main__ - INFO - Escalating query: How do I reset my phone?
2025-04-21 20:19:34 - src.agents.ticket_agent - INFO - Logged ticket TICKET_3F970D4A for query: How do I reset my phone?
2025-04-21 20:19:34 - src.agents.ticket_agent - INFO - Created ticket TICKET_3F970D4A with message: Your issue has been escalated. Ticket ID: TICKET_3F970D4A. Our customer care team will contact you soon.
2025-04-21 20:19:34 - __main__ - INFO - Workflow completed for query: How do I reset my phone?
2025-04-21 20:22:15 - src.agents.categorizer_agent - INFO - Loaded fine-tuned distilBERT from models\fine_tuned_distilbert
2025-04-21 20:22:15 - src.agents.categorizer_agent - INFO - Model moved to device: cpu
2025-04-21 20:22:16 - src.agents.sentiment_agent - INFO - Model and tokenizer loaded from models\sentiment_model
2025-04-21 20:22:18 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:22:18 - __main__ - INFO - Workflow started with query: My payment failed and I'm furious!
2025-04-21 20:22:19 - src.agents.categorizer_agent - INFO - Input query tokenization is done for categorizer
2025-04-21 20:22:19 - src.agents.sentiment_agent - INFO - Input query toknization done.
2025-04-21 20:22:19 - src.agents.sentiment_agent - INFO - Query: 'My payment failed and I'm furious!' -> Probabilities: tensor([[0.2799, 0.4113, 0.1634, 0.1019, 0.0436]]), Predicted sentiment: Negative
2025-04-21 20:22:19 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:22:19 - src.agents.priority_agent - INFO - Priority identified: High
2025-04-21 20:22:19 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Order
2025-04-21 20:22:19 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 20:22:19 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 20:22:19 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.5268327  0.47404775 0.4475484 ]
2025-04-21 20:22:19 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 20:22:21 - src.agents.response_agent - INFO - Generated Response: I understand your frustration with the failed payment. While I don't have enough information to resolve this immediately, here are a few general steps you can take:

1.  **Check your payment details:** Ensure that the card number, expiration date, and CVV are correct. Also, verify that the billing address matches the one on your credit card statement.
2.  **Contact your bank:** Sometimes, banks block online transactions due to security reasons. Contact your bank to ensure that there are no blocks or issues with your card.
3.  **Try a different payment method:** If possible, try using a different credit card, debit card, or payment method like PayPal.
4.  **Clear browser cache and cookies:** Sometimes, stored data in your browser can cause payment issues. Clear your browser's cache and cookies and try again.

If you have tried these steps and the payment still fails, human agents are waiting to provide further assistance.

2025-04-21 20:22:21 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.7, Priority: 1, Similarity: 0.4731673002243042, Total: 0.7219501900672912
2025-04-21 20:22:21 - src.agents.escalation_agent - INFO - Escalating query 'My payment failed and I'm furious!' due to score 0.72 (threshold 0.7)
2025-04-21 20:22:21 - __main__ - INFO - Escalating query: My payment failed and I'm furious!
2025-04-21 20:22:21 - src.agents.ticket_agent - INFO - Logged ticket TICKET_71A57081 for query: My payment failed and I'm furious!
2025-04-21 20:22:21 - src.agents.ticket_agent - INFO - Created ticket TICKET_71A57081 with message: Your issue has been escalated. Ticket ID: TICKET_71A57081. Our customer care team will contact you soon.
2025-04-21 20:22:21 - __main__ - INFO - Workflow completed for query: My payment failed and I'm furious!
2025-04-21 20:22:21 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:22:21 - __main__ - INFO - Workflow started with query: How do I reset my phone?
2025-04-21 20:22:21 - src.agents.categorizer_agent - INFO - Input query tokenization is done for categorizer
2025-04-21 20:22:21 - src.agents.sentiment_agent - INFO - Input query toknization done.
2025-04-21 20:22:21 - src.agents.sentiment_agent - INFO - Query: 'How do I reset my phone?' -> Probabilities: tensor([[0.1126, 0.1364, 0.4911, 0.1584, 0.1015]]), Predicted sentiment: Neutral
2025-04-21 20:22:21 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:22:21 - src.agents.priority_agent - INFO - Priority identified: Medium
2025-04-21 20:22:21 - src.agents.knowledge_agent - ERROR - Error while updating state with converesations knowledge base: Expecting value: line 1 column 7 (char 6)
Traceback (most recent call last):
  File "D:\Capstone Projects\Smart-Support-AI\src\agents\knowledge_agent.py", line 55, in Knowledge_update
    load_category_embeddings(category)
  File "D:\Capstone Projects\Smart-Support-AI\src\agents\knowledge_agent.py", line 36, in load_category_embeddings
    metadata = json.load(f)
               ^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 7 (char 6)
2025-04-21 20:22:21 - src.agents.response_agent - ERROR - Error generating response for 'How do I reset my phone?': string index out of range
2025-04-21 20:22:21 - src.agents.escalation_agent - ERROR - Error while escalation process: unsupported operand type(s) for -: 'int' and 'NoneType'
2025-04-21 20:22:21 - __main__ - INFO - Escalating query: How do I reset my phone?
2025-04-21 20:22:21 - src.agents.ticket_agent - INFO - Logged ticket TICKET_F2DE98B8 for query: How do I reset my phone?
2025-04-21 20:22:21 - src.agents.ticket_agent - INFO - Created ticket TICKET_F2DE98B8 with message: Your issue has been escalated. Ticket ID: TICKET_F2DE98B8. Our customer care team will contact you soon.
2025-04-21 20:22:21 - __main__ - INFO - Workflow completed for query: How do I reset my phone?
2025-04-21 20:32:19 - src.agents.categorizer_agent - INFO - Loaded fine-tuned distilBERT from models\fine_tuned_distilbert
2025-04-21 20:32:19 - src.agents.categorizer_agent - INFO - Model moved to device: cpu
2025-04-21 20:32:19 - src.agents.sentiment_agent - INFO - Model and tokenizer loaded from models\sentiment_model
2025-04-21 20:32:22 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:32:22 - __main__ - INFO - Workflow started with query: My payment failed and I'm furious!
2025-04-21 20:32:22 - src.agents.categorizer_agent - INFO - Input query tokenization is done for categorizer
2025-04-21 20:32:22 - src.agents.categorizer_agent - INFO - 🔍 Query: 'My payment failed and I'm furious!' -> Probabilities: {'Login and Account': 0.0, 'Order': 0.9999, 'Shipping': 0.0, 'Cancellations and returns': 0.0, 'Warranty': 0.0, 'Shopping': 0.0}, Predicted Category: Order
2025-04-21 20:32:22 - src.agents.sentiment_agent - INFO - Input query toknization done for senitment analyzer.
2025-04-21 20:32:22 - src.agents.sentiment_agent - INFO - Query: 'My payment failed and I'm furious!' -> Probabilities: tensor([[0.2799, 0.4113, 0.1634, 0.1019, 0.0436]]), Predicted sentiment: Negative
2025-04-21 20:32:22 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:32:22 - src.agents.priority_agent - INFO - Priority identified: High
2025-04-21 20:32:22 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Order
2025-04-21 20:32:22 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 20:32:22 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 20:32:22 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.5268327  0.47404775 0.4475484 ]
2025-04-21 20:32:22 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 20:32:26 - src.agents.response_agent - INFO - Generated Response: I am sorry to hear that your payment failed. This can be frustrating.

Here are a few things you can check:

*   **Check your payment information:** Ensure that your card number, expiration date, and CVV code are correct. Also, verify that your billing address matches the address on your credit card statement.
*   **Contact your bank or card issuer:** There might be a temporary block on your card due to security reasons or insufficient funds.
*   **Try an alternative payment method:** If possible, try using a different credit card, debit card, or payment method like PayPal.
*   **Clear your browser's cache and cookies:** Sometimes, outdated information stored in your browser can interfere with the payment process.
*   **Contact Customer Support:** If you have tried all of these steps and your payment is still failing, please contact customer support for further assistance.

If none of these steps resolve the issue, human agents are waiting to assist you further.

2025-04-21 20:32:26 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.7, Priority: 1, Similarity: 0.4731673002243042, Total: 0.7219501900672912
2025-04-21 20:32:26 - src.agents.escalation_agent - INFO - Escalating query 'My payment failed and I'm furious!' due to score 0.72 (threshold 0.7)
2025-04-21 20:32:26 - __main__ - INFO - Escalating query: My payment failed and I'm furious!
2025-04-21 20:32:26 - src.agents.ticket_agent - INFO - Logged ticket TICKET_BBC6BC64 for query: My payment failed and I'm furious!
2025-04-21 20:32:26 - src.agents.ticket_agent - INFO - Created ticket TICKET_BBC6BC64 with message: Your issue has been escalated. Ticket ID: TICKET_BBC6BC64. Our customer care team will contact you soon.
2025-04-21 20:32:26 - __main__ - INFO - Workflow completed for query: My payment failed and I'm furious!
2025-04-21 20:32:26 - __main__ - INFO - Workflow initialized and cached
2025-04-21 20:32:26 - __main__ - INFO - Workflow started with query: How do I reset my phone?
2025-04-21 20:32:26 - src.agents.categorizer_agent - INFO - Input query tokenization is done for categorizer
2025-04-21 20:32:26 - src.agents.categorizer_agent - INFO - 🔍 Query: 'How do I reset my phone?' -> Probabilities: {'Login and Account': 0.9994, 'Order': 0.0, 'Shipping': 0.0001, 'Cancellations and returns': 0.0, 'Warranty': 0.0005, 'Shopping': 0.0}, Predicted Category: Login and Account
2025-04-21 20:32:26 - src.agents.sentiment_agent - INFO - Input query toknization done for senitment analyzer.
2025-04-21 20:32:26 - src.agents.sentiment_agent - INFO - Query: 'How do I reset my phone?' -> Probabilities: tensor([[0.1126, 0.1364, 0.4911, 0.1584, 0.1015]]), Predicted sentiment: Neutral
2025-04-21 20:32:26 - src.agents.priority_agent - INFO - Category and sentiment
2025-04-21 20:32:26 - src.agents.priority_agent - INFO - Priority identified: Medium
2025-04-21 20:32:26 - src.agents.knowledge_agent - ERROR - Error while updating state with converesations knowledge base: Expecting value: line 1 column 7 (char 6)
Traceback (most recent call last):
  File "D:\Capstone Projects\Smart-Support-AI\src\agents\knowledge_agent.py", line 55, in Knowledge_update
    load_category_embeddings(category)
  File "D:\Capstone Projects\Smart-Support-AI\src\agents\knowledge_agent.py", line 36, in load_category_embeddings
    metadata = json.load(f)
               ^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\91623\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 7 (char 6)
2025-04-21 20:32:26 - src.agents.response_agent - ERROR - Error generating response for 'How do I reset my phone?': string index out of range
2025-04-21 20:32:26 - src.agents.escalation_agent - ERROR - Error while escalation process: unsupported operand type(s) for -: 'int' and 'NoneType'
2025-04-21 20:32:26 - __main__ - INFO - Escalating query: How do I reset my phone?
2025-04-21 20:32:26 - src.agents.ticket_agent - INFO - Logged ticket TICKET_253DDB77 for query: How do I reset my phone?
2025-04-21 20:32:26 - src.agents.ticket_agent - INFO - Created ticket TICKET_253DDB77 with message: Your issue has been escalated. Ticket ID: TICKET_253DDB77. Our customer care team will contact you soon.
2025-04-21 20:32:26 - __main__ - INFO - Workflow completed for query: How do I reset my phone?
2025-04-21 21:28:57 - __main__ - INFO - Loaded model from models\embedding_model
2025-04-21 21:28:57 - __main__ - INFO - Using device: cpu
2025-04-21 21:28:57 - __main__ - INFO - Processing category 'Login and Account' with 151 queries...
2025-04-21 21:28:59 - __main__ - INFO - Saved embeddings and metadata for 'Login and Account'
2025-04-21 21:28:59 - __main__ - INFO - Processing category 'Cancellations and returns' with 286 queries...
2025-04-21 21:29:01 - __main__ - INFO - Saved embeddings and metadata for 'Cancellations and returns'
2025-04-21 21:29:01 - __main__ - INFO - Processing category 'Order' with 270 queries...
2025-04-21 21:29:08 - __main__ - INFO - Saved embeddings and metadata for 'Order'
2025-04-21 21:29:08 - __main__ - INFO - Processing category 'Shopping' with 116 queries...
2025-04-21 21:29:09 - __main__ - INFO - Saved embeddings and metadata for 'Shopping'
2025-04-21 21:29:09 - __main__ - INFO - Processing category 'Warranty' with 105 queries...
2025-04-21 21:29:10 - __main__ - INFO - Saved embeddings and metadata for 'Warranty'
2025-04-21 21:29:10 - __main__ - INFO - Processing category 'Shipping' with 72 queries...
2025-04-21 21:29:11 - __main__ - INFO - Saved embeddings and metadata for 'Shipping'
2025-04-21 21:29:11 - __main__ - INFO - Embedding pre-computation complete!
2025-04-21 21:31:46 - src.agents.categorizer_agent - INFO - Loaded fine-tuned distilBERT from models\fine_tuned_distilbert
2025-04-21 21:31:46 - src.agents.categorizer_agent - INFO - Model moved to device: cpu
2025-04-21 21:31:46 - src.agents.sentiment_agent - INFO - Model and tokenizer loaded from models\sentiment_model
2025-04-21 21:31:49 - __main__ - INFO - Workflow initialized and cached
2025-04-21 21:31:49 - __main__ - INFO - Workflow started with query: My payment failed and I'm furious!
2025-04-21 21:31:49 - src.agents.categorizer_agent - INFO - Input query tokenization is done for categorizer
2025-04-21 21:31:50 - src.agents.categorizer_agent - INFO - Query: 'My payment failed and I'm furious!' -> Probabilities: {'Login and Account': 0.0, 'Order': 0.9999, 'Shipping': 0.0, 'Cancellations and returns': 0.0, 'Warranty': 0.0, 'Shopping': 0.0}, Predicted Category: Order
2025-04-21 21:31:50 - src.agents.sentiment_agent - INFO - Input query toknization done for senitment analyzer.
2025-04-21 21:31:50 - src.agents.sentiment_agent - INFO - Query: 'My payment failed and I'm furious!' -> Probabilities: tensor([[0.2799, 0.4113, 0.1634, 0.1019, 0.0436]]), Predicted sentiment: Negative
2025-04-21 21:31:50 - src.agents.priority_agent - INFO - Fetched Category and sentiment
2025-04-21 21:31:50 - src.agents.priority_agent - INFO - Priority identified: High
2025-04-21 21:31:50 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Order
2025-04-21 21:31:50 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 21:31:50 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 21:31:50 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.5268327  0.47404775 0.4475484 ]
2025-04-21 21:31:50 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 21:31:52 - src.agents.response_agent - INFO - Generated Response: I understand your frustration with the failed payment. While I don't have enough information to resolve this immediately, here are some general steps that might help:

1.  **Check your payment details:** Ensure the card number, expiration date, and CVV are correct. Also, verify the billing address matches your card statement.
2.  **Contact your bank or card issuer:** They can tell you if there are any issues with your account, such as insufficient funds or transaction limits.
3.  **Try an alternative payment method:** If possible, use a different credit card, debit card, or payment service like PayPal.
4.  **Clear your browser's cache and cookies:** Sometimes, stored data can interfere with the payment process.
5.  **Contact customer support:** If none of these steps work, please contact customer support. Human agents are waiting to assist you further.

2025-04-21 21:31:52 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.7, Priority: 1, Similarity: 0.4731673002243042, Total: 0.7219501900672912
2025-04-21 21:31:52 - src.agents.escalation_agent - INFO - Escalating query 'My payment failed and I'm furious!' due to score 0.72 (threshold 0.7)
2025-04-21 21:31:52 - __main__ - INFO - Escalating query: My payment failed and I'm furious!
2025-04-21 21:31:52 - src.agents.ticket_agent - INFO - Logged ticket TICKET_B70DFFCD for query: My payment failed and I'm furious!
2025-04-21 21:31:52 - src.agents.ticket_agent - INFO - Created ticket TICKET_B70DFFCD with message: Your issue has been escalated. Ticket ID: TICKET_B70DFFCD. Our customer care team will contact you soon.
2025-04-21 21:31:52 - __main__ - INFO - Workflow completed for query: My payment failed and I'm furious!
2025-04-21 21:31:52 - __main__ - INFO - Workflow initialized and cached
2025-04-21 21:31:52 - __main__ - INFO - Workflow started with query: How do I reset my phone?
2025-04-21 21:31:52 - src.agents.categorizer_agent - INFO - Input query tokenization is done for categorizer
2025-04-21 21:31:52 - src.agents.categorizer_agent - INFO - Query: 'How do I reset my phone?' -> Probabilities: {'Login and Account': 0.9994, 'Order': 0.0, 'Shipping': 0.0001, 'Cancellations and returns': 0.0, 'Warranty': 0.0005, 'Shopping': 0.0}, Predicted Category: Login and Account
2025-04-21 21:31:52 - src.agents.sentiment_agent - INFO - Input query toknization done for senitment analyzer.
2025-04-21 21:31:52 - src.agents.sentiment_agent - INFO - Query: 'How do I reset my phone?' -> Probabilities: tensor([[0.1126, 0.1364, 0.4911, 0.1584, 0.1015]]), Predicted sentiment: Neutral
2025-04-21 21:31:52 - src.agents.priority_agent - INFO - Fetched Category and sentiment
2025-04-21 21:31:52 - src.agents.priority_agent - INFO - Priority identified: Medium
2025-04-21 21:31:52 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Login and Account
2025-04-21 21:31:52 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 21:31:52 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 21:31:52 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.562075   0.54077584 0.5063565 ]
2025-04-21 21:31:52 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 21:31:55 - src.agents.response_agent - INFO - Generated Response: Resetting your phone depends on the type of phone you have (Android or iPhone). Here are general steps:

**For Android:**

1.  **Open Settings:** Find the Settings app on your phone (usually a gear icon).
2.  **Find Reset Options:** Search for "Reset" in the settings or look for "General management" or "System," then "Reset."
3.  **Choose Reset Type:**
    *   **Factory data reset/Erase all data:** This deletes everything and returns the phone to its original state.
4.  **Confirm and Reset:** Follow the on-screen prompts to confirm your choice. You may need to enter your PIN, pattern, or password.

**For iPhone:**

1.  **Open Settings:** Find the Settings app on your home screen.
2.  **Go to General:** Scroll down and tap "General."
3.  **Find Reset:** Scroll down and tap "Transfer or Reset iPhone."
4.  **Choose Reset Type:**
    *   **Erase All Content and Settings:** This deletes everything and returns the phone to its original state.
5.  **Confirm and Reset:** Follow the on-screen prompts. You may need to enter your Apple ID password.

**Important Notes:**

*   Back up your data before resetting, as the process will erase everything.
*   Make sure your phone is charged or plugged in during the reset process.

2025-04-21 21:31:55 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.0, Priority: 0.5, Similarity: 0.43792498111724854, Total: 0.28137749433517456
2025-04-21 21:31:55 - src.agents.escalation_agent - INFO - No escalation needed for query 'How do I reset my phone?' with score 0.28
2025-04-21 21:31:55 - __main__ - INFO - Non-escalated query: How do I reset my phone?
2025-04-21 21:31:55 - __main__ - INFO - Workflow completed for query: How do I reset my phone?
2025-04-21 21:41:21 - src.agents.categorizer_agent - INFO - Loaded fine-tuned distilBERT from models\fine_tuned_distilbert
2025-04-21 21:41:21 - src.agents.categorizer_agent - INFO - Model moved to device: cpu
2025-04-21 21:41:22 - src.agents.sentiment_agent - INFO - Model and tokenizer loaded from models\sentiment_model
2025-04-21 21:42:50 - __main__ - INFO - Loaded index.html
2025-04-21 21:43:48 - src.core.workflow - INFO - Workflow initialized and cached
2025-04-21 21:43:48 - src.core.workflow - INFO - Workflow started with query: my order is not delivered yet, why?
2025-04-21 21:43:49 - src.agents.categorizer_agent - INFO - Input query tokenization is done for categorizer
2025-04-21 21:43:49 - src.agents.categorizer_agent - INFO - Query: 'my order is not delivered yet, why?' -> Probabilities: {'Login and Account': 0.0, 'Order': 0.0, 'Shipping': 1.0, 'Cancellations and returns': 0.0, 'Warranty': 0.0, 'Shopping': 0.0}, Predicted Category: Shipping
2025-04-21 21:43:49 - src.agents.sentiment_agent - INFO - Input query toknization done for senitment analyzer.
2025-04-21 21:43:49 - src.agents.sentiment_agent - INFO - Query: 'my order is not delivered yet, why?' -> Probabilities: tensor([[0.1120, 0.2556, 0.4508, 0.1206, 0.0610]]), Predicted sentiment: Neutral
2025-04-21 21:43:49 - src.agents.priority_agent - INFO - Fetched Category and sentiment
2025-04-21 21:43:49 - src.agents.priority_agent - INFO - Priority identified: Low
2025-04-21 21:43:49 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Shipping
2025-04-21 21:43:49 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 21:43:49 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 21:43:49 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.70341814 0.67869455 0.6589296 ]
2025-04-21 21:43:49 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 21:43:53 - src.agents.response_agent - INFO - Generated Response: I understand your order hasn't arrived yet. Please provide your order number so I can check the status.

Based on similar past inquiries, here's what I'll do:

1.  **Check Order Status:** I'll use your order number to locate your order and see its current status (e.g., in transit, delayed).
2.  **Estimated Delivery Date:** I'll provide you with the most up-to-date estimated delivery date.
3.  **Explain Delays (If Any):** If there are any delays, I'll explain the reason (e.g., weather, unforeseen circumstances).
4.  **Expedite Options (If Possible):** I'll explore options to expedite your delivery, if available.

If I can't resolve the issue or provide a satisfactory answer, our human agents are available to assist you further.

2025-04-21 21:43:53 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.0, Priority: 0.0, Similarity: 0.29658186435699463, Total: 0.08897455930709838
2025-04-21 21:43:53 - src.agents.escalation_agent - INFO - No escalation needed for query 'my order is not delivered yet, why?' with score 0.09
2025-04-21 21:43:53 - src.core.workflow - INFO - Non-escalated query: my order is not delivered yet, why?
2025-04-21 21:43:53 - src.core.workflow - INFO - Workflow completed for query: my order is not delivered yet, why?
2025-04-21 21:49:34 - src.core.workflow - INFO - Workflow initialized and cached
2025-04-21 21:49:34 - src.core.workflow - INFO - Workflow started with query: how to reset the password
2025-04-21 21:49:34 - src.agents.categorizer_agent - INFO - Input query tokenization is done for categorizer
2025-04-21 21:49:34 - src.agents.categorizer_agent - INFO - Query: 'how to reset the password' -> Probabilities: {'Login and Account': 1.0, 'Order': 0.0, 'Shipping': 0.0, 'Cancellations and returns': 0.0, 'Warranty': 0.0, 'Shopping': 0.0}, Predicted Category: Login and Account
2025-04-21 21:49:34 - src.agents.sentiment_agent - INFO - Input query toknization done for senitment analyzer.
2025-04-21 21:49:34 - src.agents.sentiment_agent - INFO - Query: 'how to reset the password' -> Probabilities: tensor([[0.0499, 0.0839, 0.5581, 0.2168, 0.0913]]), Predicted sentiment: Neutral
2025-04-21 21:49:34 - src.agents.priority_agent - INFO - Fetched Category and sentiment
2025-04-21 21:49:34 - src.agents.priority_agent - INFO - Priority identified: Medium
2025-04-21 21:49:34 - src.agents.knowledge_agent - INFO - Loaded embeddings and metadata for category: Login and Account
2025-04-21 21:49:34 - src.agents.knowledge_agent - INFO - Loading the embeddings for the category is completed
2025-04-21 21:49:34 - src.agents.knowledge_agent - INFO - Found similiarities between the queries.
2025-04-21 21:49:34 - src.agents.knowledge_agent - INFO - Found the top results for the qurey from the knowledge base with top similiarities [0.70968014 0.70186764 0.64303994]
2025-04-21 21:49:34 - src.agents.knowledge_agent - INFO - Updated the state with knowledge base answer and the top similarity score
2025-04-21 21:49:37 - src.agents.response_agent - INFO - Generated Response: Okay! I can help you with that.

Here are the steps to reset your password:

1.  Log in to your account.
2.  Click on the "Account Information" or "Account Settings" tab.
3.  Click on "Change Password" or a similar option.
4.  Enter your new password.

If you have forgotten your current password:

1.  Click on the "Forgot Password" link.
2.  Follow the instructions to reset it.

If you're still unable to log in, I can reset it for you. However, human agents are waiting to assist you better.

2025-04-21 21:49:37 - src.agents.escalation_agent - INFO - Escalation scores - Sentiment: 0.0, Priority: 0.5, Similarity: 0.29031985998153687, Total: 0.23709595799446104
2025-04-21 21:49:37 - src.agents.escalation_agent - INFO - No escalation needed for query 'how to reset the password' with score 0.24
2025-04-21 21:49:37 - src.core.workflow - INFO - Non-escalated query: how to reset the password
2025-04-21 21:49:37 - src.core.workflow - INFO - Workflow completed for query: how to reset the password
